# js学习笔记
## 1. js运行机制
* 参考文章：
1. [https://juejin.im/post/5eb4fb615188256d8e65578f](url)
2. [https://juejin.im/post/5b498d245188251b193d4059](url)
### js为什么是单线程，为什么不是多线程呢
这与它的用途有关，js的主要用途是与用户交互以及处理DOM，这决定了它只能是单线程，不能是多线程。假设开了两个线程，一个线程处理在DOM节点上添加内容，另外一个线程处理删除这个节点，这时，浏览器就不知道到底是删除还是添加了，所以必须是单线程。
### js运行机制
单线程就意味着，所有任务都要排队，如果前一个任务耗时时间很长，后面的任务也不得不一直等着。其实很多时候CPU是空闲的，因为IO设备（输入输出）很慢（比如请求数据），这时候更合理的处理方式应该是主线程此时不要管IO设备，将该任务挂起来，先运行后面的任务，等结果返回后再继续执行该任务。

于是， 所有任务可以分成两种，一种是同步任务，也就是在主线程上排队执行的任务，一种是异步任务，不进入主线程，而是进入“任务队列”。

事件循环：主线程任务执行完成后，从“任务队列”中读取事件，这个过程是循环的，即事件循环。

事件循环机制：

* 所有同步任务在主线程上执行，形成一个执行栈
* 主线程之外，还有一个“任务队列”，只要异步内务有了处理结果就会在这个“任务队列”中放置一个事件
* 一旦主线程中的所有任务处理完毕后，系统就会读取“任务队列”，这时，那些异步任务就结束等待状态进入执行栈，开始执行
* 主线程不断重复第三步

异步任务又可分为宏任务和微任务，一个事件循环里可以有多个宏任务队列，但只有一个微任务队列

宏任务、微任务分别在不同的“消息队列”中，微任务有优先执行权限，体现在：

出队一个宏任务->执行栈为空后->执行微任务->更新界面渲染->回到第一步

常见宏任务：script标签、I/O、UI渲染、click事件、ajax的onload、setTimeOut、setInterval

常见微任务：process.nextTick、promise
## 2. 前端跨域问题
### 跨域定义
浏览器不能执行其它网站的脚本，也就是不能从一个域的网页去请求另外一个域的资源

只要协议、域名、端口有一个不同就会产生跨域问题
* 允许跨域的标签：img link script
### 跨域存在原因

### 跨域有哪些限制
1. cookie localstorage indexdb等存储内容
2. DOM节点
3. ajax请求被拦截

1. otherWindow.postMessage
	
	传两个参数：一个是发送的信息，一个是目标地址
2. WebSocket 双向通信，无跨域问题
3. 跨域资源共享方法
## 3. 浏览器安全
## 4. 性能优化
## 5. 高并发
## 6. 浏览器缓存
## 7. 浏览器本地存储
## 8. url请求过程
## 9. 防抖、节流
## 10. 重绘 回流
## 11. 继承 原型链
## 12. 设计模式


















































































